(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e2687"],{"7f24":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{ref:"menu",staticClass:"mvod-align-center",attrs:{model:e.menu,rules:e.rules,inline:""}},[n("el-form-item",{attrs:{label:"Table Name",prop:"tbName"}},[n("el-input",{model:{value:e.menu.tbName,callback:function(t){e.$set(e.menu,"tbName",t)},expression:"menu.tbName"}})],1),n("el-form-item",{attrs:{label:"Table Comment",prop:"tbComment"}},[n("el-input",{model:{value:e.menu.tbComment,callback:function(t){e.$set(e.menu,"tbComment",t)},expression:"menu.tbComment"}})],1),n("el-form-item",{attrs:{label:"Navigate Link",prop:"navigateLink"}},[n("el-input",{model:{value:e.menu.navigateLink,callback:function(t){e.$set(e.menu,"navigateLink",t)},expression:"menu.navigateLink"}})],1),n("el-form-item",{attrs:{label:"For User or Admin"}},[n("el-radio-group",{model:{value:e.menu.type,callback:function(t){e.$set(e.menu,"type",t)},expression:"menu.type"}},[n("el-radio",{attrs:{label:1}},[e._v("User")]),n("el-radio",{attrs:{label:2}},[e._v("Admin")])],1)],1),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add("menu")}}},[e._v("Add")])],1),n("el-table",{attrs:{data:this.$store.getters.getAllMenu,border:"",stripe:""}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-form",{staticClass:"mvod-align-center",attrs:{"label-position":"left"}},[n("el-form-item",{attrs:{label:"Table Name:"}},[n("el-input",{model:{value:t.row.tbName,callback:function(n){e.$set(t.row,"tbName",n)},expression:"props.row.tbName"}})],1),n("el-form-item",{attrs:{label:"Table Comment:"}},[n("el-input",{model:{value:t.row.tbComment,callback:function(n){e.$set(t.row,"tbComment",n)},expression:"props.row.tbComment"}})],1),n("el-form-item",{attrs:{label:"Navigate Link"}},[n("el-input",{model:{value:t.row.navigateLink,callback:function(n){e.$set(t.row,"navigateLink",n)},expression:"props.row.navigateLink"}})],1),n("el-form-item",{attrs:{label:"For User or Admin"}},[n("el-radio-group",{model:{value:t.row.type,callback:function(n){e.$set(t.row,"type",n)},expression:"props.row.type"}},[n("el-radio",{attrs:{label:1}},[e._v("User")]),n("el-radio",{attrs:{label:2}},[e._v("Admin")])],1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.save(t.row)}}},[e._v("Save")]),n("el-button",{attrs:{type:"danger"},on:{click:function(n){return e.deleteRow(t.row)}}},[e._v("Delete")])],1)],1)]}}])}),n("el-table-column",{attrs:{label:"Table Name",prop:"tbName"}}),n("el-table-column",{attrs:{label:"Table Comment",prop:"tbComment"}}),n("el-table-column",{attrs:{label:"Front end navigate link or url",prop:"navigateLink"}}),n("el-table-column",{attrs:{formatter:e.formatterType,label:"Menu For User or Admin",prop:"type"}})],1)],1)},a=[],o=n("cebc"),l=(n("96cf"),n("3b8d")),s=n("03e6"),i={name:"MvodAdminTableManage",data:function(){return{menu:{tbName:"",tbComment:"",navigateLink:"",type:1},rules:{tbName:[{required:!0,message:"table name is required"}],tbComment:[{required:!0,message:"table comment is required"}],navigateLink:[{required:!0,message:"navigate link is required"}]}}},methods:{save:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,s["a"].update(t,"/table/");case 3:n=e.sent,n.success||this.$message.error(n.message);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),add:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(n){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}return r=Object(o["a"])({},t.menu),e.next=4,s["a"].save(r,"/table");case 4:return a=e.sent,t.$message({showClose:!0,type:a.success?"success":"error",message:a.message}),e.next=8,t.$store.dispatch("setMenuAsync");case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},deleteRow:function(e){var t=this;this.$confirm("Delete current row ?","Waring",{type:"waring",cancelButtonText:"Cancel",confirmButtonText:"Delete"}).then(function(){console.log("confirm"+e.id),s["a"].deleteById(e.id,"/table/").then(function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n.success){e.next=4;break}t.$message.error(n.message),e.next=6;break;case 4:return e.next=6,t.$store.dispatch("setMenuAsync");case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())})},formatterType:function(e){return 1===e.type?"User":"Admin"}}},m=i,u=n("2877"),c=Object(u["a"])(m,r,a,!1,null,"2a609a22",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0e2687.408c57db.js.map