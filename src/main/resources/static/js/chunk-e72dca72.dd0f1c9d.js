(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e72dca72"],{"8d81":function(e,r,t){var n;(function(s){"use strict";function o(e,r){var t=(65535&e)+(65535&r),n=(e>>16)+(r>>16)+(t>>16);return n<<16|65535&t}function a(e,r){return e<<r|e>>>32-r}function i(e,r,t,n,s,i){return o(a(o(o(r,e),o(n,i)),s),t)}function u(e,r,t,n,s,o,a){return i(r&t|~r&n,e,r,s,o,a)}function c(e,r,t,n,s,o,a){return i(r&n|t&~n,e,r,s,o,a)}function l(e,r,t,n,s,o,a){return i(r^t^n,e,r,s,o,a)}function d(e,r,t,n,s,o,a){return i(t^(r|~n),e,r,s,o,a)}function m(e,r){var t,n,s,a,i;e[r>>5]|=128<<r%32,e[14+(r+64>>>9<<4)]=r;var m=1732584193,p=-271733879,f=-1732584194,v=271733878;for(t=0;t<e.length;t+=16)n=m,s=p,a=f,i=v,m=u(m,p,f,v,e[t],7,-680876936),v=u(v,m,p,f,e[t+1],12,-389564586),f=u(f,v,m,p,e[t+2],17,606105819),p=u(p,f,v,m,e[t+3],22,-1044525330),m=u(m,p,f,v,e[t+4],7,-176418897),v=u(v,m,p,f,e[t+5],12,1200080426),f=u(f,v,m,p,e[t+6],17,-1473231341),p=u(p,f,v,m,e[t+7],22,-45705983),m=u(m,p,f,v,e[t+8],7,1770035416),v=u(v,m,p,f,e[t+9],12,-1958414417),f=u(f,v,m,p,e[t+10],17,-42063),p=u(p,f,v,m,e[t+11],22,-1990404162),m=u(m,p,f,v,e[t+12],7,1804603682),v=u(v,m,p,f,e[t+13],12,-40341101),f=u(f,v,m,p,e[t+14],17,-1502002290),p=u(p,f,v,m,e[t+15],22,1236535329),m=c(m,p,f,v,e[t+1],5,-165796510),v=c(v,m,p,f,e[t+6],9,-1069501632),f=c(f,v,m,p,e[t+11],14,643717713),p=c(p,f,v,m,e[t],20,-373897302),m=c(m,p,f,v,e[t+5],5,-701558691),v=c(v,m,p,f,e[t+10],9,38016083),f=c(f,v,m,p,e[t+15],14,-660478335),p=c(p,f,v,m,e[t+4],20,-405537848),m=c(m,p,f,v,e[t+9],5,568446438),v=c(v,m,p,f,e[t+14],9,-1019803690),f=c(f,v,m,p,e[t+3],14,-187363961),p=c(p,f,v,m,e[t+8],20,1163531501),m=c(m,p,f,v,e[t+13],5,-1444681467),v=c(v,m,p,f,e[t+2],9,-51403784),f=c(f,v,m,p,e[t+7],14,1735328473),p=c(p,f,v,m,e[t+12],20,-1926607734),m=l(m,p,f,v,e[t+5],4,-378558),v=l(v,m,p,f,e[t+8],11,-2022574463),f=l(f,v,m,p,e[t+11],16,1839030562),p=l(p,f,v,m,e[t+14],23,-35309556),m=l(m,p,f,v,e[t+1],4,-1530992060),v=l(v,m,p,f,e[t+4],11,1272893353),f=l(f,v,m,p,e[t+7],16,-155497632),p=l(p,f,v,m,e[t+10],23,-1094730640),m=l(m,p,f,v,e[t+13],4,681279174),v=l(v,m,p,f,e[t],11,-358537222),f=l(f,v,m,p,e[t+3],16,-722521979),p=l(p,f,v,m,e[t+6],23,76029189),m=l(m,p,f,v,e[t+9],4,-640364487),v=l(v,m,p,f,e[t+12],11,-421815835),f=l(f,v,m,p,e[t+15],16,530742520),p=l(p,f,v,m,e[t+2],23,-995338651),m=d(m,p,f,v,e[t],6,-198630844),v=d(v,m,p,f,e[t+7],10,1126891415),f=d(f,v,m,p,e[t+14],15,-1416354905),p=d(p,f,v,m,e[t+5],21,-57434055),m=d(m,p,f,v,e[t+12],6,1700485571),v=d(v,m,p,f,e[t+3],10,-1894986606),f=d(f,v,m,p,e[t+10],15,-1051523),p=d(p,f,v,m,e[t+1],21,-2054922799),m=d(m,p,f,v,e[t+8],6,1873313359),v=d(v,m,p,f,e[t+15],10,-30611744),f=d(f,v,m,p,e[t+6],15,-1560198380),p=d(p,f,v,m,e[t+13],21,1309151649),m=d(m,p,f,v,e[t+4],6,-145523070),v=d(v,m,p,f,e[t+11],10,-1120210379),f=d(f,v,m,p,e[t+2],15,718787259),p=d(p,f,v,m,e[t+9],21,-343485551),m=o(m,n),p=o(p,s),f=o(f,a),v=o(v,i);return[m,p,f,v]}function p(e){var r,t="",n=32*e.length;for(r=0;r<n;r+=8)t+=String.fromCharCode(e[r>>5]>>>r%32&255);return t}function f(e){var r,t=[];for(t[(e.length>>2)-1]=void 0,r=0;r<t.length;r+=1)t[r]=0;var n=8*e.length;for(r=0;r<n;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<r%32;return t}function v(e){return p(m(f(e),8*e.length))}function g(e,r){var t,n,s=f(e),o=[],a=[];for(o[15]=a[15]=void 0,s.length>16&&(s=m(s,8*e.length)),t=0;t<16;t+=1)o[t]=909522486^s[t],a[t]=1549556828^s[t];return n=m(o.concat(f(r)),512+8*r.length),p(m(a.concat(n),640))}function h(e){var r,t,n="0123456789abcdef",s="";for(t=0;t<e.length;t+=1)r=e.charCodeAt(t),s+=n.charAt(r>>>4&15)+n.charAt(15&r);return s}function w(e){return unescape(encodeURIComponent(e))}function b(e){return v(w(e))}function F(e){return h(b(e))}function x(e,r){return g(w(e),w(r))}function k(e,r){return h(x(e,r))}function y(e,r,t){return r?t?x(r,e):k(r,e):t?b(e):F(e)}n=function(){return y}.call(r,t,r,e),void 0===n||(e.exports=n)})()},af20:function(e,r,t){"use strict";t.r(r);var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-container",[t("el-header",[t("mvod-header",{attrs:{user:this.$store.getters.getUser}})],1),t("el-row",{staticClass:"mvod-content",attrs:{align:"middle",justify:"center",type:"flex"}},[t("el-col",{attrs:{span:12}},[t("el-card",[t("el-switch",{attrs:{"active-color":"#13ce66","active-text":"Sign In","inactive-color":"#ff4949","inactive-text":"Sign Up"},model:{value:e.signIn,callback:function(r){e.signIn=r},expression:"signIn"}}),e.signIn?t("el-row",{attrs:{align:"middle",justify:"center",type:"flex"}},[t("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.rules,"label-position":"right"}},[t("el-col",[t("el-form-item",{attrs:{label:"Account:",prop:"account"}},[t("el-input",{attrs:{clearable:""},model:{value:e.userForm.account,callback:function(r){e.$set(e.userForm,"account",r)},expression:"userForm.account"}})],1)],1),t("el-col",[t("el-form-item",{attrs:{label:"Password:",prop:"password"}},[t("el-input",{attrs:{clearable:"",type:"password"},model:{value:e.userForm.password,callback:function(r){e.$set(e.userForm,"password",r)},expression:"userForm.password"}})],1)],1),t("el-col",[t("el-form-item",{attrs:{label:"Role:"}},[t("el-radio-group",{model:{value:e.userForm.adminRole,callback:function(r){e.$set(e.userForm,"adminRole",r)},expression:"userForm.adminRole"}},[t("el-radio",{attrs:{label:!0}},[e._v("Admin")]),t("el-radio",{attrs:{label:!1}},[e._v("User")])],1)],1)],1),t("el-col",{staticClass:"mvod-align-center"},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.onSubmit("userForm","signIn")}}},[e._v("Sign In")]),t("el-button",{on:{click:function(r){return e.resetForm("userForm")}}},[e._v("Reset")])],1)],1)],1):t("el-row",{attrs:{align:"middle",justify:"center",type:"flex"}},[t("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.rules,"label-position":"right"}},[t("el-col",[t("el-form-item",{attrs:{label:"Account:",prop:"account"},on:{change:e.validateUserExist},nativeOn:{keyup:function(r){return e.validateUserExist(r)}}},[t("el-input",{model:{value:e.userForm.account,callback:function(r){e.$set(e.userForm,"account",r)},expression:"userForm.account"}},[t("i",{directives:[{name:"show",rawName:"v-show",value:!e.hidden,expression:"!hidden"}],attrs:{slot:"suffix"},slot:"suffix"},[e.exist?t("span",[t("i",{staticClass:"el-icon-error",staticStyle:{color:"red"}}),e._v("\n                                            User exist\n                                        ")]):t("i",{staticClass:"el-icon-success",staticStyle:{color:"green"}})])])],1)],1),t("el-col",[t("el-form-item",{attrs:{label:"Name:",prop:"name"}},[t("el-input",{model:{value:e.userForm.name,callback:function(r){e.$set(e.userForm,"name",r)},expression:"userForm.name"}})],1)],1),t("el-col",[t("el-form-item",{attrs:{label:"Password:",prop:"password"}},[t("el-input",{attrs:{type:"password"},on:{change:e.validatePassword,keyup:e.validatePassword},model:{value:e.userForm.password,callback:function(r){e.$set(e.userForm,"password",r)},expression:"userForm.password"}})],1)],1),t("el-col",[t("el-form-item",{attrs:{label:"Confirm Password:",prop:"pass"}},[t("el-input",{attrs:{type:"password"},on:{change:e.validatePassword,keyup:e.validatePassword},model:{value:e.userForm.pass,callback:function(r){e.$set(e.userForm,"pass",r)},expression:"userForm.pass"}})],1)],1),t("el-col",{staticClass:"mvod-align-center"},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.onSubmit("userForm","signUp")}}},[e._v("Sign Up")]),t("el-button",{on:{click:function(r){return e.resetForm("userForm")}}},[e._v("Reset")])],1)],1)],1)],1)],1)],1)],1)},s=[],o=t("cebc"),a=(t("96cf"),t("3b8d")),i=t("a3c9"),u=t("d491"),c=t("8d81"),l=t.n(c),d={name:"MvodSignIn",data:function(){var e=this,r=function(r,t,n){t.length<0?n(new Error("can not be empty")):e.userForm.password===e.userForm.pass&&n()};return{userForm:{account:"",password:"",pass:"",name:"",adminRole:!1},validate:!1,signIn:!0,exist:!1,hidden:!0,rules:{account:[{required:!0,message:"account is required"}],name:[{required:!0,message:"user name is required"}],password:[{required:!0,message:"password is required"}],pass:[{required:!0,message:"password is required"},{validator:r,trigger:"change"}]}}},methods:{validatePassword:function(){this.validate=this.userForm.password===this.userForm.pass},validateUserExist:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.userForm.account.length>0?this.hidden=!1:this.hidden=!0,e.next=3,u["a"].userExist(this.userForm.account);case 3:r=e.sent,r&&this.$message.warning("the account is used, please use another account"),this.exist=r;case 6:case"end":return e.stop()}},e,this)}));function r(){return e.apply(this,arguments)}return r}(),onSubmit:function(e,r){var t=this;this.$refs[e].validate(function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(n){var s,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=18;break}if(s=Object(o["a"])({},t.userForm),s.password=l()(s.password),"signIn"!==r){e.next=9;break}return e.next=6,u["a"].signIn(s);case 6:a=e.sent,e.next=15;break;case 9:if("signUp"!==r){e.next=15;break}if(console.log("signUp",t.validate),!t.validate){e.next=15;break}return e.next=14,u["a"].signUp(s);case 14:a=e.sent;case 15:a.success?(t.$store.commit("setUserToken",a.data.userToken),t.$store.commit("setUser",a.data.user),localStorage.setItem("userToken",a.data.userToken),s.adminRole?t.$router.push("admin"):t.$router.go(-1)):t.$message.error(a.message),e.next=19;break;case 18:console.log("Invalid");case 19:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields()}},components:{MvodHeader:i["a"]}},m=d,p=t("2877"),f=Object(p["a"])(m,n,s,!1,null,"831284b6",null);r["default"]=f.exports}}]);
//# sourceMappingURL=chunk-e72dca72.dd0f1c9d.js.map